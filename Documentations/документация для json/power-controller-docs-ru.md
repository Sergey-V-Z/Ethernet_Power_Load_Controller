# Документация контроллера питания

## Обзор
Данный документ описывает протокол обмена данными и структуры данных для устройства контроллера питания. Протокол поддерживает различные операции, включая конфигурацию IP, управление настройками каналов и команды устройства.

## Протокол обмена данными

### Типы сообщений
Протокол определяет 5 основных типов сообщений (`type_data`):
1. Настройки IP
2. Настройки каналов
3. Команды
4. Получение всех настроек
5. Настройки моста

### Структуры данных

#### 1. Объект настроек каналов
Содержит конфигурацию для нескольких каналов со следующей структурой:
- Идентификация устройства (id, name)
- Массив объектов каналов, содержащий:
  - Номер канала (num)
  - Адрес устройства (dev_addr)
  - Канал устройства (ch_dev)
  - Значение ШИМ (PWM)
- Объект конфигурации IP

#### 2. Объект настроек IP
Существует два варианта:
- Ответ от устройства (содержит текущие настройки)
- Запрос от компьютера (содержит настройки и флаги для обновления)

#### 3. Объект команд
Поддерживает различные команды, идентифицируемые по `id_cmd`:
1. Автоматическая настройка (1)
2. Добавить устройство (2)
3. Удалить устройство (3)
4. Управление включением/выключением канала (4)
5. Перезагрузка (5)

#### 4. Настройки моста
Конфигурация режима моста и настройки порта

## Блок-схема

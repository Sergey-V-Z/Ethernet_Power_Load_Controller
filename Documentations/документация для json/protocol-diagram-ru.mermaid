graph TD
    A[Компьютер] <--> B[Контроллер питания]
    
    subgraph "Типы сообщений"
        C[Настройки IP<br/>type_data: 1]
        D[Настройки каналов<br/>type_data: 2]
        E[Команды<br/>type_data: 3]
        F[Получить все настройки<br/>type_data: 4]
        G[Настройки моста<br/>type_data: 5]
    end
    
    B --> C
    B --> D
    B --> E
    B --> F
    B --> G
    
    subgraph "Управление каналами"
        H[Канал 0]
        I[Канал 1]
        J[Канал 2]
        K[Канал 3]
        L[Канал 4]
        M[Канал 5]
    end
    
    subgraph "Команды"
        N[Авто настройка<br/>id_cmd: 1]
        O[Добавить устройство<br/>id_cmd: 2]
        P[Удалить устройство<br/>id_cmd: 3]
        Q[Вкл/Выкл канал<br/>id_cmd: 4]
        R[Перезагрузка<br/>id_cmd: 5]
    end
    
    E --> N
    E --> O
    E --> P
    E --> Q
    E --> R
    
    D --> H
    D --> I
    D --> J
    D --> K
    D --> L
    D --> M
